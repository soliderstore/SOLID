<!DOCTYPE html>
<html lang="pt-br">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>S√òLID Store</title>

    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@300;500;700&display=swap" rel="stylesheet">

    <style>
         :root {
            --bg: #0f0f0f;
            --bg2: #1a1a1a;
            --text: #ffffff;
            --card: rgba(255, 255, 255, 0.05);
            --border: rgba(255, 255, 255, 0.1);
            --cart-bg: #111111;
            /* Fundo s√≥lido do carrinho */
        }
        
        [data-theme="light"] {
            --bg: #f4f4f4;
            --bg2: #ffffff;
            --text: #111111;
            --card: rgba(0, 0, 0, 0.05);
            --border: rgba(0, 0, 0, 0.1);
            --cart-bg: #ffffff;
            /* Fundo s√≥lido claro */
        }
        
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
            font-family: 'Montserrat', sans-serif;
            transition: background .4s, color .4s;
        }
        
        body {
            background: linear-gradient(135deg, var(--bg), var(--bg2));
            color: var(--text);
        }
        /* HEADER */
        
        header {
            padding: 20px 8%;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }
        
        .logo {
            font-size: 26px;
            font-weight: 700;
            letter-spacing: 4px;
        }
        
        .theme-btn {
            font-size: 12px;
            padding: 6px 12px;
            border-radius: 15px;
            border: 1px solid var(--border);
            background: var(--card);
            color: var(--text);
            cursor: pointer;
        }
        /* HERO */
        
        .hero {
            text-align: center;
            padding: 80px 20px 40px;
        }
        
        .hero h1 {
            font-size: 42px;
            letter-spacing: 6px;
        }
        /* PRODUTOS */
        
        .products {
            display: flex;
            flex-wrap: wrap;
            justify-content: center;
            gap: 40px;
            padding: 40px;
        }
        
        .card {
            width: 280px;
            padding: 20px;
            border-radius: 20px;
            background: var(--card);
            border: 1px solid var(--border);
            box-shadow: 0 8px 32px rgba(0, 0, 0, 0.3);
        }
        
        .slider {
            position: relative;
        }
        
        .slider img {
            width: 100%;
            border-radius: 15px;
            margin-bottom: 15px;
        }
        
        .arrow {
            position: absolute;
            top: 50%;
            transform: translateY(-50%);
            background: rgba(0, 0, 0, .6);
            color: #fff;
            border: none;
            width: 30px;
            height: 30px;
            border-radius: 50%;
            cursor: pointer;
        }
        
        .left {
            left: 10px;
        }
        
        .right {
            right: 10px;
        }
        
        select {
            width: 100%;
            padding: 8px;
            border-radius: 8px;
            border: none;
            margin-bottom: 8px;
        }
        
        button {
            width: 100%;
            padding: 10px;
            border-radius: 10px;
            border: none;
            font-weight: 600;
            cursor: pointer;
            background: var(--text);
            color: var(--bg);
        }
        /* BOT√ÉO CARRINHO */
        
        .cart-toggle {
            position: fixed;
            bottom: 20px;
            right: 20px;
            padding: 12px 22px;
            border-radius: 30px;
            background: var(--card);
            border: 1px solid var(--border);
            cursor: pointer;
            z-index: 1000;
        }
        
        .cart-count {
            position: absolute;
            top: -8px;
            right: -8px;
            background: red;
            color: white;
            width: 22px;
            height: 22px;
            border-radius: 50%;
            font-size: 12px;
            display: flex;
            justify-content: center;
            align-items: center;
            font-weight: bold;
        }
        /* CARRINHO */
        
        .cart {
            position: fixed;
            bottom: 90px;
            right: 20px;
            width: 340px;
            padding: 20px;
            border-radius: 20px;
            background: var(--cart-bg);
            /* FUNDO S√ìLIDO */
            border: 2px solid var(--border);
            display: none;
            max-height: 80vh;
            overflow: auto;
            box-shadow: 0 10px 40px rgba(0, 0, 0, 0.6);
        }
        
        .cart h3 {
            margin-bottom: 10px;
        }
        
        .cart-item {
            font-size: 14px;
            margin-bottom: 10px;
        }
        
        .qty {
            display: flex;
            align-items: center;
            gap: 8px;
            margin-top: 5px;
        }
        
        .qty button {
            width: 25px;
            height: 25px;
            padding: 0;
        }
        
        .total {
            margin-top: 15px;
            font-weight: bold;
            font-size: 16px;
        }
        
        .coupon {
            margin-top: 10px;
        }
        
        .coupon input {
            width: 100%;
            padding: 8px;
            border-radius: 8px;
            border: none;
            margin-bottom: 5px;
        }
        
        .coupon-msg {
            font-size: 12px;
        }
    </style>
</head>

<body>

    <header>
        <div class="logo">S√òLID</div>
        <button class="theme-btn" onclick="toggleTheme()" id="themeBtn">üåô</button>
    </header>

    <section class="hero">
        <h1>STAY S√òLID.</h1>
    </section>

    <section class="products" id="products"></section>

    <div class="cart-toggle" onclick="toggleCart()">
        Carrinho
        <div class="cart-count" id="cartCount">0</div>
    </div>

    <div class="cart" id="cartBox">
        <h3>Carrinho</h3>
        <div id="cartItems"></div>

        <div class="coupon">
            <input type="text" id="couponInput" placeholder="Cupom (SOLID10)">
            <button onclick="applyCoupon()">Aplicar cupom</button>
            <p class="coupon-msg" id="couponMsg"></p>
        </div>

        <div class="total">Total: R$ <span id="total">0.00</span></div>

        <button onclick="checkout()" style="margin-top:10px;background:#25D366;color:white;">
Finalizar compra
</button>

    </div>

    <script>
        /* TEMA */
        function toggleTheme() {
            let theme = document.documentElement.getAttribute("data-theme");
            if (theme === "light") {
                document.documentElement.removeAttribute("data-theme");
                localStorage.setItem("theme", "dark");
                themeBtn.innerText = "üåô";
            } else {
                document.documentElement.setAttribute("data-theme", "light");
                localStorage.setItem("theme", "light");
                themeBtn.innerText = "‚òÄ";
            }
        }
        if (localStorage.getItem("theme") === "light") {
            document.documentElement.setAttribute("data-theme", "light");
            themeBtn.innerText = "‚òÄ";
        }

        /* PRODUTOS */
        const products = [{
            name: "Moletom masculino (rei dos reisüëë)",
            price: 160.00,
            images: ["M1.jpeg", "M2.jpeg", "logo.png"]
        }, {
            name: "Moletom feminino (rei dos reisüëë)",
            price: 160.00,
            images: ["F1.jpeg", "F2.jpeg", "logo.png"]
        }];

        let imageIndex = {};
        let cart = {};
        let discount = 0;

        const container = document.getElementById("products");

        products.forEach((p, i) => {
            container.innerHTML += `
<div class="card">
<div class="slider">
<button class="arrow left" onclick="prevImage(${i})">‚ùÆ</button>
<img id="img${i}" src="${p.images[0]}">
<button class="arrow right" onclick="nextImage(${i})">‚ùØ</button>
</div>

<h3>${p.name}</h3>
<p>R$ ${p.price.toFixed(2)}</p>

<select id="size${i}">
<option value="">Escolha o tamanho</option>
<option>P</option>
<option>M</option>
<option>G</option>
<option>GG</option>
</select>

<button onclick="addToCart(${i})">Adicionar</button>
</div>`;
        });

        function nextImage(i) {
            if (imageIndex[i] == null) imageIndex[i] = 0;
            imageIndex[i] = (imageIndex[i] + 1) % products[i].images.length;
            document.getElementById("img" + i).src = products[i].images[imageIndex[i]];
        }

        function prevImage(i) {
            if (imageIndex[i] == null) imageIndex[i] = 0;
            imageIndex[i]--;
            if (imageIndex[i] < 0) imageIndex[i] = products[i].images.length - 1;
            document.getElementById("img" + i).src = products[i].images[imageIndex[i]];
        }

        function addToCart(i) {
            let size = document.getElementById("size" + i).value;
            if (size === "") {
                alert("Escolha o tamanho");
                return;
            }

            let p = products[i];
            let key = p.name + size;

            if (cart[key]) cart[key].qty++;
            else cart[key] = {...p,
                size,
                qty: 1
            };

            renderCart();
        }

        function changeQty(key, val) {
            cart[key].qty += val;
            if (cart[key].qty <= 0) delete cart[key];
            renderCart();
        }

        function applyCoupon() {
            if (localStorage.getItem("usedCoupon")) {
                couponMsg.innerText = "Cupom j√° utilizado.";
                couponMsg.style.color = "red";
                return;
            }
            if (couponInput.value === "SOLID10") {
                discount = 0.10;
                couponMsg.innerText = "Cupom aplicado!";
                couponMsg.style.color = "lightgreen";
            } else {
                couponMsg.innerText = "Cupom inv√°lido.";
                couponMsg.style.color = "red";
            }
            renderCart();
        }

        function renderCart() {
            let html = "";
            let total = 0;
            let count = 0;

            for (let key in cart) {
                let item = cart[key];
                total += item.price * item.qty;
                count += item.qty;

                html += `
<div class="cart-item">
${item.name}<br>
Tam: ${item.size}<br>
R$ ${item.price.toFixed(2)}
<div class="qty">
<button onclick="changeQty('${key}',-1)">-</button>
<span>${item.qty}</span>
<button onclick="changeQty('${key}',1)">+</button>
</div><hr>
</div>`;
            }

            let final = total - (total * discount);

            cartItems.innerHTML = html;
            document.getElementById("total").innerText = final.toFixed(2);
            cartCount.innerText = count;
        }

        function checkout() {
            if (Object.keys(cart).length === 0) {
                alert("Seu carrinho est√° vazio.");
                return;
            }

            let message = "üõç Pedido S√òLID:%0A%0A";
            let total = 0;

            for (let key in cart) {
                let item = cart[key];
                total += item.price * item.qty;

                message += `‚Ä¢ ${item.name}%0A`;
                message += `Tam: ${item.size}%0A`;
                message += `Qtd: ${item.qty}%0A`;
                message += `Pre√ßo unit√°rio: R$ ${item.price.toFixed(2)}%0A%0A`;
            }

            let final = total - (total * discount);

            if (discount > 0) {
                message += `üéü Cupom aplicado: SOLID10%0A`;
                message += `Desconto: ${(discount*100)}%%0A%0A`;
                localStorage.setItem("usedCoupon", true);
            }

            message += `üí∞ Total: R$ ${final.toFixed(2)}`;

            window.open(`https://wa.me/5531998702914?text=${message}`, "_blank");
        }

        function toggleCart() {
            cartBox.style.display = cartBox.style.display === "block" ? "none" : "block";
        }
    </script>

</body>

</html>